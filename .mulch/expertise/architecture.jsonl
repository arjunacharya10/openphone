{"type":"decision","title":"Ship entire stack as Ubuntu Core snaps on a single device","rationale":"openphone-ui (Qt/QML), openphone-core (Fastify), and openclaw (AI agent) all run locally on the device as snaps. All inter-service communication is localhost. No cloud dependency for the core loop — only the LLM API and external integrations (Gmail, Calendar) need network.","recorded_at":"2026-02-22T04:35:24.861Z","classification":"tactical","id":"mx-198587"}
{"type":"reference","name":"Service ports and protocols","description":"openphone-core: port 3000, Fastify HTTP + WebSocket. openclaw gateway: port 18789, HTTP webhooks. openphone-ui connects to openphone-core via ws://localhost:3000/ws. openphone-core relays card actions to openclaw via POST http://localhost:18789/hooks/ui and /hooks/agent. openclaw calls back to openphone-core via POST http://localhost:3000/cards (inbound notify).","recorded_at":"2026-02-22T04:35:24.873Z","classification":"tactical","id":"mx-fd0cfb"}
{"type":"reference","name":"Monorepo structure","description":"apps/openphone-core (Node.js/Fastify), apps/openphone-ui (Qt/QML C++), contracts/ (shared TypeScript types), snaps/ (Ubuntu snap configs — empty), tooling/ (build scripts — empty). Git branch: master.","recorded_at":"2026-02-22T04:35:24.873Z","classification":"tactical","id":"mx-44b961"}
{"type":"decision","title":"Qt/QML for the device UI instead of a web stack","rationale":"Native rendering, no browser overhead, direct hardware access, fullscreen 480x960 form factor, and packages cleanly as a snap for Ubuntu Core with Ubuntu Frame as the Wayland compositor.","recorded_at":"2026-02-22T04:35:24.873Z","classification":"tactical","id":"mx-3b4adb"}

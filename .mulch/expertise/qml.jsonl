{"type":"pattern","name":"Theme singleton for responsive scaling","description":"Theme.qml is a pragma Singleton registered via qmldir. All colors, font sizes, and spacing reference Theme.xxx — zero hardcoded values in components. Theme.scale = Math.min(windowWidth/480, windowHeight/960) makes all measurements responsive. Main.qml binds root.width/height to Theme.windowWidth/windowHeight on change.","recorded_at":"2026-02-22T04:35:46.178Z","classification":"tactical","id":"mx-c24d57"}
{"type":"pattern","name":"Modular QML directory structure","description":"qml/views/ contains full-screen containers (FocusView, LedgerView, CalendarView). qml/components/ contains reusable building blocks (ContextBand, InputBar, ActionButton, KindBadge, TimelineLine, WebSocketClient). All registered in qml.qrc. qmldir registers Theme as singleton.","recorded_at":"2026-02-22T04:35:46.189Z","classification":"tactical","id":"mx-e0230d"}
{"type":"pattern","name":"WebSocketClient as non-visual Item","description":"WebSocketClient.qml (in components/) owns the WS connection and all live ListModels. Exposes cardsModel, ledgerModel, calendarModel as ListModel properties. sendCardAction() and sendChatMessage() for outbound. Auto-reconnects every 3s on close/error via Timer. Data mapping happens at ingest: ISO timestamps → decimal hours for calendar, details.subject extraction for ledger, actionsJson as JSON string for cards.","recorded_at":"2026-02-22T04:35:46.189Z","classification":"tactical","id":"mx-7409e5"}
{"type":"convention","content":"FocusView receives property var card (null = empty state). Card actions stored as actionsJson string, parsed with JSON.parse() in Repeater model. Variant computed in QML: action==='dismiss' → dismiss, index===0 → primary, else secondary.","recorded_at":"2026-02-22T04:35:46.190Z","classification":"tactical","id":"mx-463da0"}
{"type":"reference","name":"Qt modules required","description":"openphone-ui.pro: QT += quick websockets. QML imports: QtQuick, QtQuick.Layouts, QtWebSockets. main.cpp loads qrc:/qml/Main.qml.","recorded_at":"2026-02-22T04:35:46.190Z","classification":"tactical","id":"mx-dc5496"}
